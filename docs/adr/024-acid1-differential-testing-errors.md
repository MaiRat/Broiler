# ADR-024: Acid1 Differential Testing Errors

## Status

Documented (auto-generated)

## Trigger

- **Issue:** [#178](https://github.com/MaiRat/Broiler/issues/178) – 
- **Date:** 2026-02-28 11:42:45 UTC
- **Commit:** [`c7ffec3`](https://github.com/MaiRat/Broiler/commit/c7ffec3d4cc3a0d2622663f5ae4358da335c24da)
- **Workflow Run:** [22520052019](https://github.com/MaiRat/Broiler/actions/runs/22520052019)

## Context

This document is auto-generated by the `issue-closed-differential` workflow
after issue resolution. It captures the current state of acid1.html rendering
discrepancies between the Broiler HTML-Renderer engine and headless Chromium
(Playwright) at the time the triggering issue was closed.

Previous baseline: ADR-009 (`009-acid1-differential-testing.md`).

## Test Configuration

- **Viewport:** 800×600
- **Pixel Diff Threshold:** 20 %
- **Color Tolerance:** 30 per channel
- **Layout Tolerance:** 3 px

## Observed Errors

| Section | CSS1 Feature | Pixel Diff | Overlaps | Severity | Classification | Category |
|---------|-------------|-----------|----------|----------|----------------|----------|
| Full page | All CSS1 features combined | 4.42 % (21201/480000) | 0 | Low | RasterDiff | RenderingEngineBug |
| 1 – Body border | `html` bg blue, `body` bg white + border | 1.64 % (7857/480000) | 0 | Low | RasterDiff | StyleMismatch |
| 2 – `dt` float:left | `float:left`, percentage width (10.638 %) | 1.74 % (8365/480000) | 0 | Low | RasterDiff | FontRasterisation |
| 3 – `dd` float:right | `float:right`, border, width, side-by-side with `dt` | 1.37 % (6580/480000) | 0 | Low | RasterDiff | FontRasterisation |
| 4 – `li` float:left | Multiple `float:left` stacking, gold bg | 1.05 % (5027/480000) | 0 | Low | RasterDiff | FontRasterisation |
| 5 – `blockquote` | `float:left`, asymmetric borders | 1.95 % (9348/480000) | 0 | Low | RasterDiff | FontRasterisation |
| 6 – `h1` float | `float:left`, black bg, normal font-weight | 1.92 % (9234/480000) | 0 | Low | RasterDiff | FontRasterisation |
| 7 – `form` line-height | `line-height: 1.9` on form paragraphs | 1.55 % (7457/480000) | 0 | Low | RasterDiff | StyleMismatch |
| 8 – `clear:both` | `clear:both` paragraph after floats | 1.50 % (7192/480000) | 0 | Low | RasterDiff | PositionError |
| 9 – Percentage width | `10.638 %` and `41.17 %` widths | 1.14 % (5458/480000) | 0 | Low | RasterDiff | PositionError |
| 10 – `dd` height/clearance | Content-box height, float clearance | 2.36 % (11323/480000) | 0 | Low | RasterDiff | PositionError |

## Error Analysis

### Low (< 5% pixel diff)

- **Full page:** 4.42 % – All CSS1 features combined. Classification: RasterDiff. Category: RenderingEngineBug.
- **1 – Body border:** 1.64 % – `html` bg blue, `body` bg white + border. Classification: RasterDiff. Category: StyleMismatch.
- **2 – `dt` float:left:** 1.74 % – `float:left`, percentage width (10.638 %). Classification: RasterDiff. Category: FontRasterisation.
- **3 – `dd` float:right:** 1.37 % – `float:right`, border, width, side-by-side with `dt`. Classification: RasterDiff. Category: FontRasterisation.
- **4 – `li` float:left:** 1.05 % – Multiple `float:left` stacking, gold bg. Classification: RasterDiff. Category: FontRasterisation.
- **5 – `blockquote`:** 1.95 % – `float:left`, asymmetric borders. Classification: RasterDiff. Category: FontRasterisation.
- **6 – `h1` float:** 1.92 % – `float:left`, black bg, normal font-weight. Classification: RasterDiff. Category: FontRasterisation.
- **7 – `form` line-height:** 1.55 % – `line-height: 1.9` on form paragraphs. Classification: RasterDiff. Category: StyleMismatch.
- **8 – `clear:both`:** 1.50 % – `clear:both` paragraph after floats. Classification: RasterDiff. Category: PositionError.
- **9 – Percentage width:** 1.14 % – `10.638 %` and `41.17 %` widths. Classification: RasterDiff. Category: PositionError.
- **10 – `dd` height/clearance:** 2.36 % – Content-box height, float clearance. Classification: RasterDiff. Category: PositionError.

## Traceability

- **Triggering issue:** [#178](https://github.com/MaiRat/Broiler/issues/178)
- **Commit:** [`c7ffec3`](https://github.com/MaiRat/Broiler/commit/c7ffec3d4cc3a0d2622663f5ae4358da335c24da)
- **Workflow run:** [22520052019](https://github.com/MaiRat/Broiler/actions/runs/22520052019)
- **Previous baseline:** ADR-009 (`009-acid1-differential-testing.md`)

## Consequences

- This report captures a point-in-time snapshot of rendering discrepancies.
- Sections with decreasing pixel diff ratios (compared to ADR-009) indicate
  rendering improvements from the resolved issue.
- Sections with increasing pixel diff ratios indicate potential regressions
  that should be investigated.
- New issues should be created for any newly-identified discrepancies.
