# ADR-016: Acid1 Differential Testing Errors

## Status

Documented (auto-generated)

## Trigger

- **Issue:** [#166](https://github.com/MaiRat/Broiler/issues/166) – 
- **Date:** 2026-02-27 21:57:40 UTC
- **Commit:** [`7938f1b`](https://github.com/MaiRat/Broiler/commit/7938f1badf0115abbc3ff6bc790c740bd33ef452)
- **Workflow Run:** [22505329378](https://github.com/MaiRat/Broiler/actions/runs/22505329378)

## Context

This document is auto-generated by the `issue-closed-differential` workflow
after issue resolution. It captures the current state of acid1.html rendering
discrepancies between the Broiler HTML-Renderer engine and headless Chromium
(Playwright) at the time the triggering issue was closed.

Previous baseline: ADR-009 (`009-acid1-differential-testing.md`).

## Test Configuration

- **Viewport:** 800×600
- **Pixel Diff Threshold:** 20 %
- **Color Tolerance:** 30 per channel
- **Layout Tolerance:** 3 px

## Observed Errors

| Section | CSS1 Feature | Pixel Diff | Overlaps | Severity | Classification |
|---------|-------------|-----------|----------|----------|----------------|
| Full page | All CSS1 features combined | 11.26 % (54030/480000) | 0 | High | N/A |
| 1 – Body border | `html` bg blue, `body` bg white + border | 1.64 % (7857/480000) | 0 | Low | N/A |
| 2 – `dt` float:left | `float:left`, percentage width (10.638 %) | 1.74 % (8365/480000) | 0 | Low | N/A |
| 3 – `dd` float:right | `float:right`, border, width, side-by-side with `dt` | 1.37 % (6580/480000) | 0 | Low | N/A |
| 4 – `li` float:left | Multiple `float:left` stacking, gold bg | 1.05 % (5027/480000) | 0 | Low | N/A |
| 5 – `blockquote` | `float:left`, asymmetric borders | 1.95 % (9348/480000) | 0 | Low | N/A |
| 6 – `h1` float | `float:left`, black bg, normal font-weight | 1.92 % (9234/480000) | 0 | Low | N/A |
| 7 – `form` line-height | `line-height: 1.9` on form paragraphs | 1.55 % (7457/480000) | 0 | Low | N/A |
| 8 – `clear:both` | `clear:both` paragraph after floats | 1.50 % (7192/480000) | 0 | Low | N/A |
| 9 – Percentage width | `10.638 %` and `41.17 %` widths | 1.14 % (5458/480000) | 0 | Low | N/A |
| 10 – `dd` height/clearance | Content-box height, float clearance | 2.36 % (11323/480000) | 0 | Low | N/A |

## Error Analysis

### High (≥ 10% pixel diff or float overlaps)

- **Full page:** 11.26 % – All CSS1 features combined. Classification: N/A.

### Low (< 5% pixel diff)

- **1 – Body border:** 1.64 % – `html` bg blue, `body` bg white + border. Classification: N/A.
- **2 – `dt` float:left:** 1.74 % – `float:left`, percentage width (10.638 %). Classification: N/A.
- **3 – `dd` float:right:** 1.37 % – `float:right`, border, width, side-by-side with `dt`. Classification: N/A.
- **4 – `li` float:left:** 1.05 % – Multiple `float:left` stacking, gold bg. Classification: N/A.
- **5 – `blockquote`:** 1.95 % – `float:left`, asymmetric borders. Classification: N/A.
- **6 – `h1` float:** 1.92 % – `float:left`, black bg, normal font-weight. Classification: N/A.
- **7 – `form` line-height:** 1.55 % – `line-height: 1.9` on form paragraphs. Classification: N/A.
- **8 – `clear:both`:** 1.50 % – `clear:both` paragraph after floats. Classification: N/A.
- **9 – Percentage width:** 1.14 % – `10.638 %` and `41.17 %` widths. Classification: N/A.
- **10 – `dd` height/clearance:** 2.36 % – Content-box height, float clearance. Classification: N/A.

## Traceability

- **Triggering issue:** [#166](https://github.com/MaiRat/Broiler/issues/166)
- **Commit:** [`7938f1b`](https://github.com/MaiRat/Broiler/commit/7938f1badf0115abbc3ff6bc790c740bd33ef452)
- **Workflow run:** [22505329378](https://github.com/MaiRat/Broiler/actions/runs/22505329378)
- **Previous baseline:** ADR-009 (`009-acid1-differential-testing.md`)

## Consequences

- This report captures a point-in-time snapshot of rendering discrepancies.
- Sections with decreasing pixel diff ratios (compared to ADR-009) indicate
  rendering improvements from the resolved issue.
- Sections with increasing pixel diff ratios indicate potential regressions
  that should be investigated.
- New issues should be created for any newly-identified discrepancies.
